<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title>第一个HTML页面</title>
    <script type="text/javascript" src="./js/jquery.min.js"></script>
</head>
<script>

    var inputBox = document.getElementById("test");
    var count=0;
    /* inputBox.addEventListener("change",function(){
      var reader = new FileReader();
      reader.readAsText(document.getElementById("LoadOrder").files[0],"utf-8");//发起异步请求
      reader.onload = function(){
        console.log("加载成功")
      }
      reader.onloadstart = function(){
        console.log("开始加载")
      }
      reader.onloadend= function(){
        console.log("加载结束")
      }
      reader.onprogress = function(){
        count++;
        console.log("加载中"+count)
      }
    }) */
    // var totalCount = 0, no = 0, errorCount = 0;
    // function test(){
    //     var reader = new FileReader();
    //     reader.readAsText(document.getElementById("test").files[0],"utf-8");//发起异步请求
    //     reader.onload = function(){
    //         console.log("加载成功")
    //         var result = JSON.parse(Base64.decode(reader.result));
    //         totalCount = result.length;
    //         result.forEach(function(data, index){
    //             no = index;
    //             var projectDataBean = data.projectDataBean, reportBean = data.reportBean, imgList = data.imgList;
    //             if(data && projectDataBean && reportBean && imgList){
    //
    //                 imgList.forEach(function (data) {
    //
    //                 });
    //             }else {
    //                 errorCount++;
    //             }
    //         });
    //         console.log(JSON.stringify(result[0]));
    //     }
    //     reader.onloadstart = function(){
    //         console.log("开始加载")
    //         //$("#divid").html(reader.result+'')
    //
    //     }
    //     reader.onloadend= function(){
    //         console.log("加载结束")
    //     }
    //     reader.onprogress = function(){
    //         count++;
    //         console.log("加载中"+count)
    //     }
    // }
    //
    // var Base64 = {
    //     _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
    //     encode: function(e) {
    //         var t = "";
    //         var n, r, i, s, o, u, a;
    //         var f = 0;
    //         e = Base64._utf8_encode(e);
    //         while (f < e.length) {
    //             n = e.charCodeAt(f++);
    //             r = e.charCodeAt(f++);
    //             i = e.charCodeAt(f++);
    //             s = n >> 2;
    //             o = (n & 3) << 4 | r >> 4;
    //             u = (r & 15) << 2 | i >> 6;
    //             a = i & 63;
    //             if (isNaN(r)) {
    //                 u = a = 64
    //             } else if (isNaN(i)) {
    //                 a = 64
    //             }
    //             t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a)
    //         }
    //         return t
    //     },
    //     decode: function(e) {
    //         var t = "";
    //         var n, r, i;
    //         var s, o, u, a;
    //         var f = 0;
    //         e=e.replace(/[^A-Za-z0-9+/=]/g,"");
    //         while (f < e.length) {
    //             s = this._keyStr.indexOf(e.charAt(f++));
    //             o = this._keyStr.indexOf(e.charAt(f++));
    //             u = this._keyStr.indexOf(e.charAt(f++));
    //             a = this._keyStr.indexOf(e.charAt(f++));
    //             n = s << 2 | o >> 4;
    //             r = (o & 15) << 4 | u >> 2;
    //             i = (u & 3) << 6 | a;
    //             t = t + String.fromCharCode(n);
    //             if (u != 64) {
    //                 t = t + String.fromCharCode(r)
    //             }
    //             if (a != 64) {
    //                 t = t + String.fromCharCode(i)
    //             }
    //         }
    //         t = Base64._utf8_decode(t);
    //         return t
    //     },
    //     _utf8_encode: function(e) {
    //         e = e.replace(/rn/g, "n");
    //         var t = "";
    //         for (var n = 0; n < e.length; n++) {
    //             var r = e.charCodeAt(n);
    //             if (r < 128) {
    //                 t += String.fromCharCode(r)
    //             } else if (r > 127 && r < 2048) {
    //                 t += String.fromCharCode(r >> 6 | 192);
    //                 t += String.fromCharCode(r & 63 | 128)
    //             } else {
    //                 t += String.fromCharCode(r >> 12 | 224);
    //                 t += String.fromCharCode(r >> 6 & 63 | 128);
    //                 t += String.fromCharCode(r & 63 | 128)
    //             }
    //         }
    //         return t
    //     },
    //     _utf8_decode: function(e) {
    //         var t = "";
    //         var n = 0;
    //         var r = c1 = c2 = 0;
    //         while (n < e.length) {
    //             r = e.charCodeAt(n);
    //             if (r < 128) {
    //                 t += String.fromCharCode(r);
    //                 n++
    //             } else if (r > 191 && r < 224) {
    //                 c2 = e.charCodeAt(n + 1);
    //                 t += String.fromCharCode((r & 31) << 6 | c2 & 63);
    //                 n += 2
    //             } else {
    //                 c2 = e.charCodeAt(n + 1);
    //                 c3 = e.charCodeAt(n + 2);
    //                 t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);
    //                 n += 3
    //             }
    //         }
    //         return t
    //     }
    // }
    
    function test(index) {
        if(index) {
            $("#uploadForm").attr("action", "http://localhost:8607/diseaseType/updateDiseaseType");
        } else {
            $("#uploadForm").attr("action", "http://localhost:8607/diseaseType/insertDiseaseType");
        }
        // var formData = new FormData($( "#uploadForm" ))[0];
        // var url = 'http://localhost:8607/diseaseType/insertDiseaseType';
        // if(index == 'update') {
        //     url = 'http://localhost:8607/diseaseType/updateDiseaseType';
        // }
        // $.ajax({
        //     url: url ,
        //     type: 'POST',
        //     data: formData,
        //     async: false,
        //     cache: false,
        //     contentType: false,
        //     processData: false,
        //     success: function (returndata) {
        //         alert(JSON.stringify(returndata));
        //     },
        //     error: function (returndata) {
        //         alert(JSON.stringify(returndata));
        //     }
        // });
    }

</script>
<body>
<h1>Hello Spring Boot!!!</h1>
<!--<p th:text="${hello}"></p>-->
<!--<input id="test" type="file" onChange="test();">-->
<!--<input value="LoadOrder" type="button" id="aaa" onclick="LoadOrder();">-->
<div id="divid"></div>
<form id="uploadForm" method="POST" enctype="multipart/form-data" action="">
    <p>id：<input type="text" name="id" value=""/></p>
    <p>diseaseType：<input type="text" name="diseaseType" value=""/></p>
    <p>diseaseDescription：<input type="text" name="diseaseDescription" value=""/></p>
    <!--<p>imgName：<input type="text" name="imgName" value=""/></p>-->
    <p>num：<input type="text" name="num" value=""/></p>
    <p>resourceType：<input type="text" name="resourceType" value=""/></p>
    <p>图片：<input type="file" name="imgFile" /></p>
    <p>formEditFile：<input type="file" name="formEditFile" /></p>
    <p>formViewFile：<input type="file" name="formViewFile" /></p>
    <p><input type="submit" value="新增" onclick="test()"/></p>
    <p><input type="submit" value="更新" onclick="test('update')"/></p>
</form>
</body>
</html>